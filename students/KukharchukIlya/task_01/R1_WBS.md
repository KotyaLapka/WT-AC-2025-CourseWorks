# Вариант 13 — Микро-шоп «Добавь в корзину» — WBS (эпики → фичи → задачи)

- Эпик A. Модель данных и миграции
  - Фичи: схемы User/Product/CartItem/Order/OrderItem/Address/Coupon/Payment; миграции Flyway
  - Задачи:
    - A1. Описать JPA сущности и связи (User, Product, CartItem, Order, OrderItem, Address, Coupon, Payment)
    - A2. Написать Flyway миграции для создания таблиц
    - A3. Создать индексы для оптимизации запросов
    - A4. Подготовить seed данные (демо-товары, тестовые пользователи, купоны)

- Эпик B. Аутентификация и авторизация
  - Фичи: JWT аутентификация, Spring Security, ролевая авторизация
  - Задачи:
    - B1. Реализовать регистрацию и вход (AuthController, AuthService)
    - B2. Настроить Spring Security с JWT фильтрами
    - B3. Реализовать refresh token механизм
    - B4. Добавить ролевую авторизацию (USER, ADMIN)
    - B5. Настроить CORS и security headers

- Эпик C. API товаров и каталога
  - Фичи: CRUD товаров, фильтры, поиск, пагинация
  - Задачи:
    - C1. Реализовать ProductController с CRUD операциями
    - C2. Добавить фильтрацию по категории, цене, поиск по названию
    - C3. Реализовать пагинацию для списка товаров
    - C4. Добавить валидацию данных товара
    - C5. Интегрировать Redis для кэширования каталога

- Эпик D. Корзина покупок
  - Фичи: добавление/удаление товаров, изменение количества, подсчёт суммы
  - Задачи:
    - D1. Реализовать CartController (добавить, обновить, удалить, получить)
    - D2. Реализовать бизнес-логику корзины (CartService)
    - D3. Интегрировать Redis для хранения корзины
    - D4. Добавить валидацию количества товаров (проверка наличия на складе)

- Эпик E. Заказы и оплата
  - Фичи: создание заказа, применение купона, заглушка оплаты, история заказов
  - Задачи:
    - E1. Реализовать OrderController (создать, список, детали)
    - E2. Реализовать логику создания заказа из корзины (OrderService)
    - E3. Реализовать применение купона с расчётом скидки
    - E4. Реализовать заглушку оплаты (PaymentController)
    - E5. Добавить изменение статуса заказа (для админа)
    - E6. Реализовать управление адресами доставки

- Эпик F. Админ-панель
  - Фичи: управление товарами, заказами, купонами, пользователями
  - Задачи:
    - F1. Реализовать AdminController для управления товарами
    - F2. Реализовать управление заказами (просмотр всех, изменение статуса)
    - F3. Реализовать CouponController для управления купонами
    - F4. Реализовать управление пользователями (список, блокировка)
    - F5. Добавить базовую статистику (опционально)

- Эпик G. Frontend — аутентификация и базовые страницы
  - Фичи: регистрация, вход, защищённые маршруты
  - Задачи:
    - G1. Настроить React проект с TypeScript, Vite, React Router
    - G2. Реализовать страницы Login и Register
    - G3. Создать AuthContext для управления сессией
    - G4. Реализовать ProtectedRoute компонент
    - G5. Настроить API клиент с JWT токенами

- Эпик H. Frontend — каталог и корзина
  - Фичи: каталог товаров, фильтры, корзина, детали товара
  - Задачи:
    - H1. Реализовать ProductsPage с фильтрами и поиском
    - H2. Реализовать ProductDetailPage
    - H3. Реализовать CartPage с управлением количеством
    - H4. Добавить компоненты ProductCard, FilterPanel, CartItem
    - H5. Интегрировать React Query для кэширования данных

- Эпик I. Frontend — заказы и админка
  - Фичи: оформление заказа, история заказов, админ-панель
  - Задачи:
    - I1. Реализовать CheckoutPage с формой адреса и применением купона
    - I2. Реализовать OrdersPage со списком заказов
    - I3. Реализовать OrderDetailPage
    - I4. Реализовать AdminPage для управления товарами и заказами
    - I5. Добавить валидацию форм с React Hook Form

- Эпик J. Валидация и обработка ошибок
  - Фичи: валидация на клиенте и сервере, понятные сообщения об ошибках
  - Задачи:
    - J1. Добавить Bean Validation на сервере
    - J2. Реализовать глобальный обработчик ошибок (ExceptionHandler)
    - J3. Добавить валидацию форм на клиенте
    - J4. Реализовать отображение ошибок в UI

- Эпик K. Документация и тестирование
  - Фичи: Swagger/OpenAPI, JUnit тесты
  - Задачи:
    - K1. Настроить Swagger/OpenAPI документацию (springdoc-openapi)
    - K2. Написать unit тесты для сервисов (JUnit 5)
    - K3. Написать integration тесты для контроллеров
    - K4. Добавить тестовые данные и моки

- Эпик L. Инфраструктура
  - Фичи: Docker, Docker Compose, Kubernetes, CI/CD
  - Задачи:
    - L1. Создать Dockerfile для backend (multi-stage build)
    - L2. Создать Dockerfile для frontend (nginx)
    - L3. Настроить docker-compose.yml для локальной разработки
    - L4. Создать Kubernetes манифесты (Deployment, Service, Ingress, ConfigMap, Secret, PVC)
    - L5. Настроить GitHub Actions CI (линт, тесты, сборка образов)
    - L6. Настроить структурированное логирование (Logback JSON)

- Эпик M. Нефункциональные требования
  - Фичи: a11y, логирование, производительность
  - Задачи:
    - M1. Добавить базовую a11y (aria-labels, keyboard navigation)
    - M2. Настроить логирование с разными уровнями
    - M3. Оптимизировать запросы к БД (N+1 проблема)
    - M4. Добавить пагинацию везде, где необходимо
