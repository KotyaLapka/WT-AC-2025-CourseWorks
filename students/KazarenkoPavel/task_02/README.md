# Pomodoro Productivity (–í–∞—Ä–∏–∞–Ω—Ç 27)

–ü–æ–ª–Ω–æ—Ü–µ–Ω–Ω–æ–µ full-stack –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è —Ç–µ—Ö–Ω–∏–∫–∏ Pomodoro ‚Äî —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–∞–¥–∞—á–∞–º–∏, —Å–µ—Å—Å–∏—è–º–∏ —Ñ–æ–∫—É—Å–∏—Ä–æ–≤–∫–∏ –∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–æ–π –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏.

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- Node.js 18+
- npm 9+
- PostgreSQL

–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ (Windows PowerShell): –µ—Å–ª–∏ –ø–æ—è–≤–ª—è–µ—Ç—Å—è –æ—à–∏–±–∫–∞ –ø—Ä–æ `npm.ps1` –∏ –∑–∞–ø—Ä–µ—â—ë–Ω–Ω—ã–µ —Å–∫—Ä–∏–ø—Ç—ã, –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `npm.cmd ...` –∏–ª–∏ –∑–∞–ø—É—Å–∫–∞–π—Ç–µ –∫–æ–º–∞–Ω–¥—ã –≤ `cmd`.

### 1. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

```bash
npm install
```

### 2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è

```bash
cp apps/backend/.env.example apps/backend/.env
cp apps/frontend/.env.example apps/frontend/.env
```

–û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ `apps/backend/.env`:

- `DATABASE_URL` ‚Äî —Å—Ç—Ä–æ–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ PostgreSQL
- `FRONTEND_ORIGIN` ‚Äî –∞–¥—Ä–µ—Å —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é <http://localhost:5173>)

–û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ `apps/frontend/.env` –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏:

- `VITE_API_BASE_URL` ‚Äî URL API (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é <http://localhost:4000>)

### 3. –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ë–î

```bash
npm run prisma:migrate
npm run prisma:generate
```

### 4. –ó–∞–ø—É—Å–∫ (–æ–¥–Ω–æ–π –∫–æ–º–∞–Ω–¥–æ–π)

```bash
npm run dev
```

- **Backend**: <http://localhost:4000>
- **Frontend**: <http://localhost:5173>

### 5. Seed –¥–∞–Ω–Ω—ã–µ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

```bash
cd apps/backend && npx prisma db seed
```

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```text
apps/
‚îú‚îÄ‚îÄ backend/     # Express + TypeScript + Prisma
‚îî‚îÄ‚îÄ frontend/    # React + TypeScript + Vite
```

–ü–æ–¥—Ä–æ–±–Ω–æ—Å—Ç–∏:

- Backend: —Å–º. [apps/backend/README.md](apps/backend/README.md)
- Frontend: —Å–º. [apps/frontend/README.md](apps/frontend/README.md)

## ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏

1. –ó–∞–ø—É—Å–∫: `npm run dev` (–ø–æ–¥–Ω–∏–º–∞–µ—Ç backend –Ω–∞ 4000 –∏ frontend –Ω–∞ 5173)
1. –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –Ω–∞ —Ñ—Ä–æ–Ω—Ç–µ (`/register`) ‚Äî —Å–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
1. –í—Ö–æ–¥ (`/login`)
1. –ü—Ä–æ–≤–µ—Ä–∫–∞ auto-refresh access:

    - –í .env backend –º–æ–∂–Ω–æ –≤—Ä–µ–º–µ–Ω–Ω–æ –ø–æ—Å—Ç–∞–≤–∏—Ç—å –º–∞–ª–µ–Ω—å–∫–∏–π `JWT_ACCESS_TTL` (–Ω–∞–ø—Ä–∏–º–µ—Ä, `30s`)
    - –î–æ–∂–¥–∏—Ç–µ—Å—å –∏—Å—Ç–µ—á–µ–Ω–∏—è access –∏ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ –¥–µ–π—Å—Ç–≤–∏–µ (–Ω–∞–≤–∏–≥–∞—Ü–∏—è, –∑–∞–≥—Ä—É–∑–∫–∞ —Å–ø–∏—Å–∫–∞ –∑–∞–¥–∞—á)
    - –í Network –¥–æ–ª–∂–µ–Ω —É–π—Ç–∏ `POST /auth/refresh` —Å HttpOnly cookie, –∑–∞–ø—Ä–æ—Å –ø–æ–≤—Ç–æ—Ä–∏—Ç—Å—è —É—Å–ø–µ—à–Ω–æ

1. Logout (`/settings` ‚Üí –≤—ã–π—Ç–∏ –∏–ª–∏ –≤ –º–µ–Ω—é):

    - refresh cookie —É–¥–∞–ª—è–µ—Ç—Å—è
    - –ø–æ–≤—Ç–æ—Ä–Ω—ã–π –≤—ã–∑–æ–≤ `POST /auth/refresh` –≤–µ—Ä–Ω—ë—Ç 401

1. –û—Å–Ω–æ–≤–Ω–æ–π —Å—Ü–µ–Ω–∞—Ä–∏–π: —Å–æ–∑–¥–∞—Ç—å –∑–∞–¥–∞—á—É ‚Üí –∑–∞–ø—É—Å—Ç–∏—Ç—å Pomodoro –Ω–∞ `/timer` ‚Üí –ø–æ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏ —É–≤–∏–¥–µ—Ç—å —Å–µ—Å—Å–∏—é –≤ –æ—Ç—á—ë—Ç–∞—Ö `/reports`

## üéØ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å

### –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è

- –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è / –í—Ö–æ–¥ / –í—ã—Ö–æ–¥
- JWT (access –≤ –ø–∞–º—è—Ç–∏, refresh –≤ HttpOnly cookie)
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–∞

### Pomodoro –¢–∞–π–º–µ—Ä

- –°–µ—Å—Å–∏–∏: –ü–æ–º–æ–¥–æ—Ä–æ (25 –º–∏–Ω), –ö–æ—Ä–æ—Ç–∫–∏–π –ø–µ—Ä–µ—Ä—ã–≤ (5 –º–∏–Ω), –î–ª–∏–Ω–Ω—ã–π –ø–µ—Ä–µ—Ä—ã–≤ (15 –º–∏–Ω)
- –ü–∞—É–∑–∞ / –ü—Ä–æ–¥–æ–ª–∂–µ–Ω–∏–µ
- –ü—Ä–∏–≤—è–∑–∫–∞ –∫ –∑–∞–¥–∞—á–∞–º
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Å–º–µ–Ω–∞ —Ä–µ–∂–∏–º–∞

### –ó–∞–¥–∞—á–∏ (Tasks)

- CRUD –æ–ø–µ—Ä–∞—Ü–∏–∏
- –°—Ç–∞—Ç—É—Å—ã: –û–∂–∏–¥–∞–µ—Ç / –í —Ä–∞–±–æ—Ç–µ / –ó–∞–≤–µ—Ä—à–µ–Ω–∞
- –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç—ã: –ù–∏–∑–∫–∏–π / –°—Ä–µ–¥–Ω–∏–π / –í—ã—Å–æ–∫–∏–π
- –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ —Å—Ç–∞—Ç—É—Å—É, –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç—É, —Ç–µ–≥–∞–º
- –ü—Ä–∏–≤—è–∑–∫–∞ —Ç–µ–≥–æ–≤

### –¢–µ–≥–∏ (Tags)

- CRUD –æ–ø–µ—Ä–∞—Ü–∏–∏
- –í—ã–±–æ—Ä —Ü–≤–µ—Ç–∞

### –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ (Reports)

- –î–Ω–µ–≤–Ω–æ–π –æ—Ç—á—ë—Ç
- –ù–µ–¥–µ–ª—å–Ω—ã–π –æ—Ç—á—ë—Ç (–≥—Ä–∞—Ñ–∏–∫ –ø–æ –¥–Ω—è–º)
- –ú–µ—Å—è—á–Ω—ã–π –æ—Ç—á—ë—Ç
- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ —Ç–µ–≥–∞–º
- –≠–∫—Å–ø–æ—Ä—Ç CSV/JSON

### –ù–∞—Å—Ç—Ä–æ–π–∫–∏

- Push-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
- –ó–≤—É–∫–æ–≤—ã–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
- Email-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è

## üîê –†–æ–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

| –†–æ–ª—å | –û–ø–∏—Å–∞–Ω–∏–µ |
| ---- | -------- |
| `user` | –û–±—ã—á–Ω—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å, –≤–∏–¥–∏—Ç —Ç–æ–ª—å–∫–æ —Å–≤–æ–∏ –¥–∞–Ω–Ω—ã–µ |
| `admin` | –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä, –º–æ–∂–µ—Ç –ø—Ä–æ—Å–º–∞—Ç—Ä–∏–≤–∞—Ç—å –æ—Ç—á—ë—Ç—ã –¥—Ä—É–≥–∏—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π |

## üìã API Endpoints

### Auth

- `POST /auth/register` ‚Äî –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è
- `POST /auth/login` ‚Äî –í—Ö–æ–¥
- `POST /auth/refresh` ‚Äî –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–∞
- `POST /auth/logout` ‚Äî –í—ã—Ö–æ–¥

### Tasks

- `GET /tasks` ‚Äî –°–ø–∏—Å–æ–∫ –∑–∞–¥–∞—á
- `POST /tasks` ‚Äî –°–æ–∑–¥–∞–Ω–∏–µ
- `GET /tasks/:id` ‚Äî –ü–æ–ª—É—á–µ–Ω–∏–µ
- `PUT /tasks/:id` ‚Äî –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ
- `DELETE /tasks/:id` ‚Äî –£–¥–∞–ª–µ–Ω–∏–µ

### Sessions

- `GET /sessions` ‚Äî –°–ø–∏—Å–æ–∫ —Å–µ—Å—Å–∏–π
- `POST /sessions` ‚Äî –°–æ–∑–¥–∞–Ω–∏–µ
- `PUT /sessions/:id` ‚Äî –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ
- `PATCH /sessions/:id/pause` ‚Äî –ü–∞—É–∑–∞
- `PATCH /sessions/:id/resume` ‚Äî –ü—Ä–æ–¥–æ–ª–∂–µ–Ω–∏–µ
- `DELETE /sessions/:id` ‚Äî –£–¥–∞–ª–µ–Ω–∏–µ

### Tags

- `GET /tags` ‚Äî –°–ø–∏—Å–æ–∫ —Ç–µ–≥–æ–≤
- `POST /tags` ‚Äî –°–æ–∑–¥–∞–Ω–∏–µ
- `PUT /tags/:id` ‚Äî –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ
- `DELETE /tags/:id` ‚Äî –£–¥–∞–ª–µ–Ω–∏–µ

### Reports

- `GET /reports/daily` ‚Äî –î–Ω–µ–≤–Ω–æ–π –æ—Ç—á—ë—Ç
- `GET /reports/weekly` ‚Äî –ù–µ–¥–µ–ª—å–Ω—ã–π –æ—Ç—á—ë—Ç
- `GET /reports/monthly` ‚Äî –ú–µ—Å—è—á–Ω—ã–π –æ—Ç—á—ë—Ç
- `GET /reports/by-tag` ‚Äî –ü–æ —Ç–µ–≥–∞–º
- `GET /reports/export` ‚Äî –≠–∫—Å–ø–æ—Ä—Ç

### Settings

- `GET /settings/notifications` ‚Äî –ü–æ–ª—É—á–µ–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–µ–∫
- `PUT /settings/notifications` ‚Äî –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–µ–∫

### Users

- `GET /users/me` ‚Äî –¢–µ–∫—É—â–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å

## üõ† –ö–æ–º–∞–Ω–¥—ã

| –ö–æ–º–∞–Ω–¥–∞ | –û–ø–∏—Å–∞–Ω–∏–µ |
| ------- | -------- |
| `npm run dev:backend` | –ó–∞–ø—É—Å–∫ backend –≤ dev —Ä–µ–∂–∏–º–µ |
| `npm run dev:frontend` | –ó–∞–ø—É—Å–∫ frontend –≤ dev —Ä–µ–∂–∏–º–µ |
| `npm run build:backend` | –°–±–æ—Ä–∫–∞ backend |
| `npm run build:frontend` | –°–±–æ—Ä–∫–∞ frontend |
| `npm run prisma:migrate` | –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –º–∏–≥—Ä–∞—Ü–∏–π |
| `npm run prisma:generate` | –ì–µ–Ω–µ—Ä–∞—Ü–∏—è Prisma Client |
| `npm run prisma:studio` | –û—Ç–∫—Ä—ã—Ç–∏–µ Prisma Studio |

## üìù –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

### Backend

- Express.js + TypeScript
- Prisma ORM
- PostgreSQL
- JWT (jsonwebtoken)
- Zod (–≤–∞–ª–∏–¥–∞—Ü–∏—è)
- bcrypt (—Ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ)
- helmet + cors (–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å)

### Frontend

- React 18 + TypeScript
- Vite
- React Router v6
- React Hook Form + Zod
- Axios
